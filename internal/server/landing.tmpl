{{/* Embedded template for the Guildmaster landing page. */}}
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Guildmaster â€” Scores</title>
    <style>
      body { font-family: system-ui, -apple-system, Roboto, sans-serif; padding: 1rem; }
      table { border-collapse: collapse; width: 100%; margin-bottom: 1rem; }
      th, td { text-align: left; padding: 0.5rem; border-bottom: 1px solid #eee; }
      .scores { max-width: 600px; }
      .games { margin-top: 1rem; }
      pre { background: #f6f8fa; padding: 1rem; }
    </style>
  </head>
  <body>
    <h1>Guildmaster</h1>
    <p>Latest scoring snapshot derived from sheet games.</p>

    <section class="scores">
      <h2>Player Scores</h2>
      <table>
        <thead>
          <tr><th>Player</th><th>Score</th></tr>
        </thead>
        <tbody>
        {{- range $name, $score := .Scores }}
          <tr><td>{{ $name }}</td><td>{{ $score }}</td></tr>
        {{- end }}
        </tbody>
      </table>
    </section>

    <section class="games">
      <h2>Recent Games</h2>
      <table>
        <thead><tr><th>Date</th><th>Players</th></tr></thead>
        <tbody>
        {{- range .Games }}
          <tr>
            <td>{{ .Date }}</td>
            <td>{{ range $i, $p := .Rankings }}{{ if $i }}, {{ end }}{{ $p }}{{ end }}</td>
          </tr>
        {{- end }}
        </tbody>
      </table>
    </section>

    <p><small>Data last refreshed when this page was rendered on the server.</small></p>
  </body>
</html>
